[gd_scene load_steps=8 format=3 uid="uid://i13cfqmk47or"]

[ext_resource type="Script" path="res://battle_screen.gd" id="1_h8i7e"]
[ext_resource type="Script" path="res://scripts/actor.gd" id="2_2lw4e"]
[ext_resource type="Texture2D" uid="uid://ddq6mha0vfqlt" path="res://sprites/bg/cavern/bg_6.png" id="2_73l8l"]
[ext_resource type="Texture2D" uid="uid://dbhfow0mgtct0" path="res://sprites/char/Female_02.png" id="2_ke2a5"]
[ext_resource type="Resource" uid="uid://c6krejn11uinb" path="res://data/test_data/test_actor.tres" id="4_rt4ak"]

[sub_resource type="Gradient" id="Gradient_l2p18"]
colors = PackedColorArray(0.774882, 0.439775, 5.77569e-07, 1, 0.2, 1, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_1xawm"]
gradient = SubResource("Gradient_l2p18")
width = 120
height = 10

[node name="BattleScreen" type="Node"]
script = ExtResource("1_h8i7e")
party = Array[ExtResource("2_2lw4e")]([ExtResource("4_rt4ak")])

[node name="Background" type="Sprite2D" parent="."]
scale = Vector2(0.8, 0.8)
texture = ExtResource("2_73l8l")

[node name="EnemyBattlers" type="Node2D" parent="."]

[node name="Timer" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[node name="Camera2D" type="Camera2D" parent="."]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer"]
offset_left = 24.0
offset_top = 526.0
offset_right = 295.0
offset_bottom = 627.0

[node name="Attack" type="Button" parent="CanvasLayer/VBoxContainer"]
layout_mode = 2
text = "Attack"

[node name="Magic" type="Button" parent="CanvasLayer/VBoxContainer"]
layout_mode = 2
text = "Magic"

[node name="Defend" type="Button" parent="CanvasLayer/VBoxContainer"]
layout_mode = 2
text = "Defend"

[node name="Portrait" type="TextureRect" parent="CanvasLayer"]
offset_left = 382.0
offset_top = 520.0
offset_right = 502.0
offset_bottom = 648.0
texture = ExtResource("2_ke2a5")
expand_mode = 1

[node name="HealthBar" type="TextureProgressBar" parent="CanvasLayer/Portrait"]
layout_mode = 0
offset_top = -24.0
offset_right = 120.0
offset_bottom = -14.0
value = 100.0
texture_progress = SubResource("GradientTexture2D_1xawm")

[node name="Name" type="Label" parent="CanvasLayer/Portrait"]
layout_mode = 0
offset_right = 41.0
offset_bottom = 23.0
text = "Lydia"

[node name="Panel" type="Panel" parent="CanvasLayer"]
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 60.0
grow_horizontal = 2

[node name="Label" type="Label" parent="CanvasLayer/Panel"]
layout_mode = 0
offset_left = 12.0
offset_top = 8.0
offset_right = 1145.0
offset_bottom = 51.0
text = "Battle Events"
horizontal_alignment = 1
vertical_alignment = 1

[connection signal="pressed" from="CanvasLayer/VBoxContainer/Attack" to="." method="_on_attack_pressed"]
